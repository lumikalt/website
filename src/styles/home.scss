@use "./variables" as *;

body {
  margin: 0;
  padding: 0;
  inset: 0;
  width: 100%;
  height: 100%;

  flex-flow: column wrap;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  align-content: center;
}

.bgcontainer {
  position: fixed;
  inset: 0;
  width: 100%;
  height: inherit;
  z-index: -100;
  overflow: hidden;
}

.bg {
  position: absolute;
  width: 5 * 1920px;
  height: 5 * 1920px;
  z-index: -100;
  overflow: hidden;

  .image {
    width: 100%;
    height: 100%;
    background-size: 0.5 * 1920px 0.5 * 1920px;
    animation: movebg 50s linear infinite;
  }
}

@keyframes movebg {
  from {
    transform: translate3d(0, 0, 0);
  }

  to {
    transform: translate3d(-1920px, -1920px, 0);
  }
}

/* content */

main {
  margin-inline: 1rem;
  margin-block: 1rem;
  padding: 2rem;
  display: flex;
  justify-items: center;
  align-items: center;
  flex-flow: column wrap;
  max-width: 120ch;
  height: fit-content;
  // padding-block: 1rem;
  background-color: rgba(0, 0, 0, 0.5);
  border-radius: 0 0 30px 30px;

  backdrop-filter: blur(10px);
}

.title {
  inset: 0;
  margin: 0;
  display: flex;
  font-family: Cookies;
  letter-spacing: 1px;
  font-size: 3rem;
  overflow: clip;
  width: 100%;

  h1 {
    padding-left: 1rem;
    margin-block: 0;
    color: #fbe2ba;
    text-shadow: 0 0 5px black;
  }
}

main > .text {
  color: white;
  font-family: Wonderly;
  font-size: 2.2rem;
  text-align: justify;

  .glitch {
    // font-family: DigitalGlitch;
    // font-size: 0.8rem;
    // color: $Accent;
    text-shadow: 0.05em 0 0 $Accent, -0.03em -0.04em 0 $AccentSecondary,
      0.025em 0.04em 0 $Border;
    animation: glitch 1s infinite;
  }

  .gf {
    color: $Accent;
    &::after {
      content: "";
      scale: 0;
      transition: scale 0.5s ease-in;
    }

    &:hover::after {
      content: "<3";
      scale: 1;
    }
  }

  .strikethrough {
    display: inline-block;
    position: relative;
    transition: all 0.5s ease-in;

    &::after {
      content: "";
      position: absolute;
      display: block;
      width: 100%;
      height: 5px;
      margin-top: -0.6em;
      background: black;
      transform-origin: center left;
      animation: strikethrough 1s 0.5s cubic-bezier(0.55, 0, 0.1, 1) 1;
      transition: transform 0.5s cubic-bezier(0.55, 0, 0.1, 1);
    }

    &:hover {
      color: rgba(200, 0, 0, 1);
      background: rgba(255, 189, 182, 0.3);
    }

    &:hover::after {
      transform: scaleX(0);
      transform-origin: center right;
    }
  }
}

.avatar {
  position: absolute;
  inset: 0;
  top: -60%;
  left: 50%;

  * {
    position: absolute;
    z-index: -1;
    top: 0;
    left: 0;
    offset-path: circle(10px at 50% 50%);
    offset-rotate: 0deg;
  }

  .i1 {
    z-index: 1;
    filter: brightness(0) blur(1px);
  }

  // filters from https://codepen.io/sosuke/pen/Pjoqqp

  // red
  .i2 {
    filter: brightness(0) invert(19%) sepia(100%) saturate(6457%)
      hue-rotate(359deg) brightness(101%) contrast(119%) blur(10px) opacity(0.5);
    animation: orbit1 5s infinite alternate ease-in-out;
    -moz-animation: orbit1 5s infinite alternate ease-in-out;
  }

  // green
  .i3 {
    filter: brightness(0) invert(47%) sepia(52%) saturate(2266%)
      hue-rotate(89deg) brightness(123%) contrast(122%) blur(10px) opacity(0.5);
    animation: orbit2 5s infinite linear;
  }

  // blue
  .i4 {
    filter: brightness(0) invert(8%) sepia(100%) saturate(7458%)
      hue-rotate(247deg) brightness(95%) contrast(144%) blur(10px) opacity(0.5);
    animation: orbit3 5s infinite linear;
    -moz-animation: orbit3 5s infinite linear;
  }
}

@keyframes orbit1 {
  from {
    offset-distance: 0%;
  }

  to {
    offset-distance: 100%;
  }
}

@keyframes orbit2 {
  0% {
    offset-distance: 33%;
  }

  65% {
    offset-distance: 100%;
  }

  66% {
    offset-distance: 0%;
  }

  100% {
    offset-distance: 33%;
  }
}

@keyframes orbit3 {
  0% {
    offset-distance: 66%;
  }

  32% {
    offset-distance: 100%;
  }

  33% {
    offset-distance: 0%;
  }

  100% {
    offset-distance: 66%;
  }
}

@keyframes strikethrough {
  from {
    transform: scaleX(0);
  }
  to {
    transform: scaleX(1);
  }
}

@keyframes glitch {
  0% {
    text-shadow: 0.05em 0 0 $Accent, -0.03em -0.04em 0 $AccentSecondary,
      0.025em 0.04em 0 $Border;
  }

  15% {
    text-shadow: 0.05em 0 0 $Accent, -0.03em -0.04em 0 $AccentSecondary,
      0.025em 0.04em 0 $Border;
  }

  16% {
    text-shadow: -0.05em -0.025em 0 $Accent, 0.025em 0.035em 0 $AccentSecondary,
      -0.05em -0.05em 0 $Border;
  }

  49% {
    text-shadow: -0.05em -0.025em 0 $Accent, 0.025em 0.035em 0 $AccentSecondary,
      -0.05em -0.05em 0 $Border;
  }

  50% {
    text-shadow: 0.05em 0.035em 0 $Accent, 0.03em 0 0 $AccentSecondary,
      0 -0.04em 0 $Border;
  }

  99% {
    text-shadow: 0.05em 0.035em 0 $Accent, 0.03em 0 0 $AccentSecondary,
      0 -0.04em 0 $Border;
  }

  100% {
    text-shadow: -0.05em 0 0 $Accent, -0.025em -0.04em 0 $Accent,
      -0.04em -0.025em 0 $Border;
  }
}
